window.addEventListener("load",(function(event){const timed=document.querySelectorAll(".mai-popup-time"),scrolls=document.querySelectorAll(".mai-popup-scroll"),loads=document.querySelectorAll(".mai-popup-load"),triggers=document.querySelectorAll('[href^="#mai-popup-"]');if(!(timed.length||scrolls.length||loads.length||triggers.length))return;const openPopup=function(popup,event=!1){if("string"==typeof popup&&(popup=document.querySelector(popup)),!popup)return;popup.showModal();const closeBtn=popup.querySelector(".mai-popup__close");closeBtn.addEventListener("click",(function(event){popup.close()}))},closePopup=function(popup){var seconds=popup.getAttribute("data-expire");if(seconds){var expire=new Date;expire.setSeconds(expire.getSeconds()+parseInt(seconds));var name,utc,cookie=popup.getAttribute("id")+"=1;expires="+expire.toUTCString()+";path=/;SameSite=Strict;";document.cookie=cookie}popup.close()};if(timed.length&&timed.forEach((function(popup){setTimeout((function(){openPopup(popup)}),parseInt(popup.getAttribute("data-delay")))})),loads.length&&loads.forEach((function(popup){openPopup(popup)})),triggers.length&&triggers.forEach((function(trigger){trigger.addEventListener("click",(function(event){event.preventDefault(),openPopup(event.target.getAttribute("href"))}),!1)})),scrolls.length){const debounce=function(fn){let timeout;return function(){let context=this,args=arguments;timeout&&window.cancelAnimationFrame(timeout),timeout=window.requestAnimationFrame((function(){fn.apply(context,args)}))}},getScrollPercentage=function(element){if(element){var windowHeight=window.innerHeight,scrollTop=window.scrollY,elOffsetTop=element.offsetTop,elHeight=element.offsetHeight,distance=scrollTop+windowHeight-elOffsetTop,percentage=Math.round(distance/((windowHeight+elHeight)/100));return Math.min(100,Math.max(0,percentage))}};var tracker=document.querySelector("main"),scrollData=[];scrolls.forEach((function(popup){scrollData.push({element:popup,distance:parseInt(popup.getAttribute("data-distance"))})})),window.addEventListener("scroll",debounce(()=>{if(!scrollData.length)return!1;var scrolled=getScrollPercentage(tracker);scrollData.forEach((data,index)=>{scrolled<data.distance||(scrollData.splice(index,1),openPopup(data.element))})}))}}));