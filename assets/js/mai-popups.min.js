window.addEventListener("load",(function(e){const t=document.querySelectorAll('.mai-popup[data-type="time"]'),n=document.querySelectorAll('.mai-popup[data-type="scroll"]'),o=document.querySelectorAll('.mai-popup[data-type="load"]'),i=document.querySelectorAll('[href^="#mai-popup-"]');if(!(t.length||n.length||o.length||i.length))return;let r=[];const a=function(e,t=!1){if("string"==typeof e&&(e=document.querySelector(e)),!e)return;if("manual"!==e.dataset.type&&"true"===e.dataset.cookie){var n=e.getAttribute("id")+"=1",o=document.cookie.split("; ");if(n&&o&&o.includes(n))return}r.push(e);const i="center"===e.dataset.vertical&&"center"===e.dataset.horizontal;if(i){var a=document.createElement("div");a.setAttribute("class","mai-popup-overlay"),e.before(a)}e.show(),e.querySelectorAll(".mai-popup__close",".mai-popup-close").forEach((t=>{t.addEventListener("click",(t=>{c(e)}))})),e.addEventListener("close",(t=>{c(e)}),{once:!0}),i&&a.addEventListener("click",(t=>{c(e)}),{once:!0})},c=function(e){if(!e.open)return;r=r.splice(r.indexOf(e),1);const t=e.dataset.expire,n=e.previousElementSibling,o=!(!n||!n.classList.contains("mai-popup-overlay"))&&n;if(t){const t=new Date;t.setTime(parseInt(t));const n=e.id+"=1; expires="+t.toUTCString()+"; path=/; SameSite=Lax;";document.cookie=n.trim()}e.setAttribute("closing",""),o&&o.setAttribute("closing",""),e.addEventListener("animationend",(()=>{e.removeAttribute("closing"),e.close(),o&&o.remove()}),{once:!0})};if(document.addEventListener("keyup",(e=>{r.length&&("Escape"!==e.key&&"Esc"!==e.key||c(r.pop()))})),t.length&&t.forEach((e=>{setTimeout((()=>{a(e)}),parseInt(e.dataset.delay))})),o.length&&o.forEach((e=>{a(e)})),i.length&&i.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a(e.currentTarget.getAttribute("href"))}),!1)})),n.length){const e=e=>{let t;return function(){let n=this,o=arguments;t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame((()=>{e.apply(n,o)}))}},t=e=>{if(e){var t=window.innerHeight,n=window.scrollY,o=e.offsetTop,i=e.offsetHeight,r=n+t-o,a=Math.round(r/((t+i)/100));return Math.min(100,Math.max(0,a))}};var l=document.querySelector("main"),s=[];n.forEach((e=>{s.push({distance:parseInt(e.dataset.distance),element:e})})),window.addEventListener("scroll",e((()=>{if(!s.length)return!1;var e=t(l);s.forEach(((t,n)=>{e<t.distance||(s.splice(n,1),a(t.element))}))})))}}));