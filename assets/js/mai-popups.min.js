window.addEventListener("load",(function(e){const t=document.querySelectorAll('.mai-popup[data-type="time"]'),n=document.querySelectorAll('.mai-popup[data-type="scroll"]'),i=document.querySelectorAll('.mai-popup[data-type="load"]'),o=document.querySelectorAll('[href^="#mai-popup-"]');if(!(t.length||n.length||i.length||o.length))return;let r=[];const a=function(e,t=!1){if("string"==typeof e&&(e=document.querySelector(e)),!e)return;if(e.open)return;if((!t||"click"!==t.type)&&"true"===e.dataset.cookie){var n=e.getAttribute("id")+"=1",i=document.cookie.split("; ");if(n&&i&&i.includes(n))return}r.push(e);const o="center"===e.dataset.vertical&&"center"===e.dataset.horizontal;if(o){var a=document.createElement("div");a.setAttribute("class","mai-popup-overlay"),e.before(a)}e.show(),e.querySelectorAll(".mai-popup__close",".mai-popup-close").forEach((t=>{t.addEventListener("click",(t=>{c(e)}))})),e.addEventListener("close",(t=>{c(e)}),{once:!0}),o&&a.addEventListener("click",(t=>{c(e)}),{once:!0})},c=function(e){if(!e.open)return;r=r.splice(r.indexOf(e),1);const t=e.dataset.expire,n=e.previousElementSibling,i=!(!n||!n.classList.contains("mai-popup-overlay"))&&n;if(t){const t=new Date;t.setTime(parseInt(t));const n=e.id+"=1; expires="+t.toUTCString()+"; path=/; SameSite=Lax;";document.cookie=n.trim()}e.setAttribute("closing",""),i&&i.setAttribute("closing",""),e.addEventListener("animationend",(()=>{e.removeAttribute("closing"),e.close(),i&&i.remove()}),{once:!0})};if(document.addEventListener("keyup",(e=>{r.length&&("Escape"!==e.key&&"Esc"!==e.key||c(r.pop()))})),t.length&&t.forEach((e=>{setTimeout((()=>{a(e)}),parseInt(e.dataset.delay))})),i.length&&i.forEach((e=>{a(e)})),o.length&&o.forEach((e=>{e.addEventListener("click",(e=>{e.preventDefault(),a(e.currentTarget.getAttribute("href"),e)}),!1)})),n.length){const e=e=>{let t;return function(){let n=this,i=arguments;t&&window.cancelAnimationFrame(t),t=window.requestAnimationFrame((()=>{e.apply(n,i)}))}},t=e=>{if(e){var t=window.innerHeight,n=window.scrollY,i=e.offsetTop,o=e.offsetHeight,r=n+t-i,a=Math.round(r/((t+o)/100));return Math.min(100,Math.max(0,a))}};var l=document.querySelector("main"),s=[];n.forEach((e=>{s.push({distance:parseInt(e.dataset.distance),element:e})})),window.addEventListener("scroll",e((()=>{if(!s.length)return!1;var e=t(l);s.forEach(((t,n)=>{e<t.distance||(s.splice(n,1),a(t.element))}))})))}}));